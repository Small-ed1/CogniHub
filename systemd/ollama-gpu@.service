[Unit]
Description=Ollama GPU Service
Documentation=https://docs.ollama.com
After=network-online.target

[Service]
Type=simple
User=%i
Environment="OLLAMA_HOST=127.0.0.1:11434"
# Optional: Pin specific GPU (uncomment and adjust)
# Environment="GGML_VK_VISIBLE_DEVICES=0"
# Optional: Control GPU memory usage
# Environment="OLLAMA_MAX_LOADED_MODELS=2"
ExecStart=/usr/bin/ollama serve
Restart=always
RestartSec=3

[Install]
WantedBy=default.target